<div class="space-y-6">
  <div>
    <h3 class="text-lg font-semibold mb-2 text-gray-700">Ganancias por Día</h3>
    <div class="flex items-end space-x-2 mb-4">
      <input type="date" [(ngModel)]="selectedDate" (change)="loadDailyEarnings()" class="border border-gray-300 rounded px-2 py-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
    </div>
    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-6 rounded-xl shadow-lg text-white min-h-[120px]">
      <div *ngIf="isLoading.day" class="h-full flex items-center justify-center">
        <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white"></div>
      </div>
      <div *ngIf="!isLoading.day">
        <p class="text-sm opacity-80">Total del día seleccionado:</p>
        <p class="text-4xl font-extrabold mt-1">
          {{ dailyEarnings !== null ? (dailyEarnings | currency:'MXN':'symbol':'1.2-2') : '--' }}
        </p>
      </div>
    </div>
  </div>

  <div>
    <h3 class="text-lg font-semibold mb-2 text-gray-700">Ganancias por Semana</h3>
    <div class="flex flex-col sm:flex-row items-start sm:items-end space-y-2 sm:space-y-0 sm:space-x-2 mb-4">
      <div>
        <label for="weekStart" class="text-xs text-gray-500">Desde:</label>
        <input type="date" id="weekStart" [(ngModel)]="selectedWeekRange.start" class="border border-gray-300 rounded px-2 py-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-full sm:w-auto">
      </div>
      <div>
        <label for="weekEnd" class="text-xs text-gray-500">Hasta:</label>
        <input type="date" id="weekEnd" [(ngModel)]="selectedWeekRange.end" class="border border-gray-300 rounded px-2 py-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-full sm:w-auto">
      </div>
      <button (click)="loadWeeklyEarnings()" [disabled]="isLoading.week"
              class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 disabled:bg-gray-400 transition-colors duration-150 self-end">
        <span *ngIf="!isLoading.week">Ver Rango</span>
        <span *ngIf="isLoading.week" class="flex items-center">
         <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
         Cargando...
        </span>
      </button>
    </div>
     <div class="bg-gradient-to-br from-green-500 to-teal-600 p-6 rounded-xl shadow-lg text-white min-h-[120px]">
       <div *ngIf="isLoading.week" class="h-full flex items-center justify-center">
         <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white"></div>
       </div>
       <div *ngIf="!isLoading.week">
         <p class="text-sm opacity-80">Total del rango seleccionado:</p>
         <p class="text-4xl font-extrabold mt-1">
           {{ weeklyEarnings !== null ? (weeklyEarnings | currency:'MXN':'symbol':'1.2-2') : '--' }}
         </p>
       </div>
     </div>
  </div>

  <div>
    <h3 class="text-lg font-semibold mb-2 text-gray-700">Ganancias por Mes</h3>
    <div class="flex items-end space-x-2 mb-4">
      <input type="month" [(ngModel)]="selectedMonth" (change)="loadMonthlyEarnings()" class="border border-gray-300 rounded px-2 py-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
    </div>
     <div class="bg-gradient-to-br from-purple-500 to-pink-600 p-6 rounded-xl shadow-lg text-white min-h-[120px]">
       <div *ngIf="isLoading.month" class="h-full flex items-center justify-center">
         <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white"></div>
       </div>
       <div *ngIf="!isLoading.month">
         <p class="text-sm opacity-80">Total del mes seleccionado:</p>
         <p class="text-4xl font-extrabold mt-1">
           {{ monthlyEarnings !== null ? (monthlyEarnings | currency:'MXN':'symbol':'1.2-2') : '--' }}
         </p>
       </div>
     </div>
  </div>
</div>